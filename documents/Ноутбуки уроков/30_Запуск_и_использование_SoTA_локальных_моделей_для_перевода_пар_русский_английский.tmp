[{"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"page_content": "\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SoTA \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 (\u043a\u043e\u043d\u0442\u0443\u0440\u043d\u044b\u0445) \u043c\u043e\u0434\u0435\u043b\u0435\u0439: NLLB, MarianMT, Saiga \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043f\u0430\u0440 \u0440\u0443\u0441\u0441\u043a\u0438\u0439-\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439\n\u0412 **HuggingFace Hub** \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0431\u043e\u043b\u0435\u0435 \u0442\u044b\u0441\u044f\u0447\u0438 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430, \u043d\u043e \u0438\u043d\u043e\u0433\u0434\u0430 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0435 \u043d\u0430\u0439\u0442\u0438 \u043c\u043e\u0434\u0435\u043b\u044c \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0435\u0439 \u0432\u0430\u0441 \u044f\u0437\u044b\u043a\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u044b. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0431\u0443\u0447\u0435\u043d\u043d\u0443\u044e \u043c\u043d\u043e\u0433\u043e\u044f\u0437\u044b\u0447\u043d\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 mBART \u0438\u043b\u0438 NLLB.\n\n\n\n\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c **LLM (LLama, Vicuna, StableBeluga, Saiga \u0438 \u0434\u0440.)**, \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u043b\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0438 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u044f\u0437\u044b\u043a.\n**\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f: \u041c\u043d\u043e\u0433\u043e\u044f\u0437\u044b\u0447\u043d\u044b\u0435 \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0435 \u0430\u0433\u0435\u043d\u0442\u044b (\u0431\u043e\u0442\u044b, \u043d\u0435\u0439\u0440\u043e\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438)**\n\n\n\n\u041c\u043e\u0434\u0435\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u044f\u0437\u044b\u043a\u0430\u0445. \u042d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438:\n\n\n\n1. ***\u041f\u0435\u0440\u0435\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0431\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u044f\u0437\u044b\u043a.*** \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0431\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0445 \u0442\u0435\u043a\u0441\u0442\u043e\u0432) \u043d\u0430 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u044f\u0437\u044b\u043a. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0430\u043c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0430\u0437\u0443 \u0438 \u043e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0446\u0435\u043b\u0435\u0432\u043e\u043c \u044f\u0437\u044b\u043a\u0435 \u0438 \u043b\u0443\u0447\u0448\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0447\u0430\u0442-\u0431\u043e\u0442\u0430.\n\n\n\n2. ***\u041f\u0435\u0440\u0435\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0432\u043e\u0434 \u0438 \u0432\u044b\u0432\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430.*** \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0442\u043e\u0431\u044b \u0447\u0430\u0442-\u0431\u043e\u0442 (\u043d\u0435\u0439\u0440\u043e\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a) \u043c\u043e\u0433 \u0435\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c. \u0417\u0430\u0442\u0435\u043c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0432\u044b\u0432\u043e\u0434 \u0447\u0430\u0442-\u0431\u043e\u0442\u0430 \u043d\u0430 \u044f\u0437\u044b\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u042d\u0442\u043e\u0442 \u043f\u043e\u0434\u0445\u043e\u0434 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u043c, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0447\u0430\u0442-\u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u044b \u0440\u0430\u043d\u0435\u0435.\n## \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438\n1. **Transformers** **(Hugging Face)** \ud83e\udd17 Transformers \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 API \u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0431\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439. Transformers \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 PyTorch, TensorFlow \u0438 JAX. https://huggingface.co/docs/transformers/index\n\n\n\n2. **Llama-cpp (llama-cpp-python)** - \u041e\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0432\u043e\u0434 \u0434\u043b\u044f \u043c\u043d\u043e\u0433\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 LLM , \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430 Hugging Face. https://python.langchain.com/docs/integrations/llms/llamacpp, https://github.com/abetlen/llama-cpp-python\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 (\u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0440\u0435\u0434\u0443 \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438)\n!pip install transformers==4.35.0\n\n!pip install sentencepiece==0.1.99\n\n!pip install sacremoses==0.1.1\n\n!pip install accelerate==0.24.1\n!CMAKE_ARGS=\"-DLLAMA_CUBLAS=on\" FORCE_CMAKE=1 pip install llama-cpp-python==0.2.13 --force-reinstall --upgrade --no-cache-dir\n\n## Transformers (Hugging Face)\n### NLLB\n**No Language Left Behind (NLLB)** (\u043f\u0440\u043e\u0435\u043a\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 Meta*) \u2014 \u044d\u0442\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u0432 \u0441\u0432\u043e\u0435\u043c \u0440\u043e\u0434\u0435 \u043f\u0440\u043e\u0440\u044b\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442\u0430, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043c\u043e\u0434\u0435\u043b\u0438 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c, \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u044b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043e\u0446\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u043c\u0435\u0436\u0434\u0443 200 \u044f\u0437\u044b\u043a\u0430\u043c\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u044f\u0437\u044b\u043a\u0438 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0430\u0441\u0442\u0443\u0440\u0438\u0439\u0441\u043a\u0438\u0439, \u043b\u0443\u0433\u0430\u043d\u0434\u0430, \u0443\u0440\u0434\u0443. \u0438 \u0431\u043e\u043b\u0435\u0435.\n\n\n\n\u0415\u0433\u043e \u0446\u0435\u043b\u044c \u2014 \u0434\u0430\u0442\u044c \u043b\u044e\u0434\u044f\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u0435\u0431-\u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443 \u0438 \u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0438\u043c \u043d\u0430 \u0440\u043e\u0434\u043d\u043e\u043c \u044f\u0437\u044b\u043a\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441 \u043a\u0435\u043c \u0443\u0433\u043e\u0434\u043d\u043e \u0438 \u0433\u0434\u0435 \u0443\u0433\u043e\u0434\u043d\u043e, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0438\u0445 \u044f\u0437\u044b\u043a\u043e\u0432\u044b\u0445 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u0439.\n\n\n\n*- \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u0430 \u0432 \u0420\u0424\n\u041c\u043e\u0434\u0435\u043b\u044c \u0431\u044b\u043b\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0430 \u0441 \u0434\u043b\u0438\u043d\u043e\u0439 \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0435 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u044e\u0449\u0435\u0439 **512** \u0442\u043e\u043a\u0435\u043d\u043e\u0432, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0431\u043e\u043b\u0435\u0435 \u0434\u043b\u0438\u043d\u043d\u044b\u0445 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0435\u0439 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u0443\u0445\u0443\u0434\u0448\u0435\u043d\u0438\u044e \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430.\n\n\n\n***\u041f\u0435\u0440\u0435\u0432\u043e\u0434\u044b NLLB-200 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0437\u0430\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432.***\n\n\n\nhttps://huggingface.co/facebook/nllb-200-distilled-600M\n#### \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\n!git lfs install\n\n!git clone https://huggingface.co/facebook/nllb-200-distilled-600M\n\n#### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430\u0439\u0437\u0435\u0440\u0430\nfrom transformers import AutoTokenizer, AutoModelForSeq2SeqLM\n\nimport torch\n\n\n\ndevice = \"cuda:0\" if torch.cuda.is_available() else \"cpu\"\n\nmodel_name = \"/content/nllb-200-distilled-600M\"\n\ntokenizer = AutoTokenizer.from_pretrained(model_name) #\"facebook/nllb-200-distilled-600M\"\n\n\u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c\nsample_text = \"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\"\n\n\n\ntokenizer.src_lang = \"ru\"\n\ntoken_ids = tokenizer.encode(sample_text)\n\n\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(token_ids))\n\nprint(token_ids)\n\nprint([tokenizer.decode(_ids) for _ids in token_ids])\n\n\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c\nsample_text = \"Content creation and practice development\"\n\n\n\ntokenizer.src_lang = \"en\"\n\ntoken_ids = tokenizer.encode(sample_text)\n\n\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(token_ids))\n\nprint(token_ids)\n\nprint([tokenizer.decode(_ids) for _ids in token_ids])\n\n#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\u0430 (pipeline) \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a\u0430 \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f\nfrom transformers import pipeline\n\n\n\nmodel_name = \"/content/nllb-200-distilled-600M\"\n\npipe = pipeline(\"translation\", model=model_name, # \"facebook/nllb-200-distilled-600M\"\n\n                max_length=512,\n\n                device='cuda',\n\n                src_lang=\"ru\",\n\n                tgt_lang=\"en\")\n\n\n\ntext = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\n\n\npipe(text)", "metadata": {"subid": 0, "total": 5, "source": "https://colab.research.google.com/drive/1IFh2I8LCsN0jnWxTq9JX-2p-Q5B_ca6K?usp=sharing"}}}, {"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"page_content": "\n#### \u0420\u0443\u0447\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\nfrom transformers import AutoTokenizer, AutoModelForSeq2SeqLM\n\nimport torch\n\n\n\ndevice = \"cuda:0\" if torch.cuda.is_available() else \"cpu\"\n\nmodel_name = \"/content/nllb-200-distilled-600M\"\n\ntokenizer = AutoTokenizer.from_pretrained(model_name) #\"facebook/nllb-200-distilled-600M\"\n\nmodel = AutoModelForSeq2SeqLM.from_pretrained(model_name).to(device) # \"facebook/nllb-200-distilled-600M\"\n# \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439\n\nsample_text = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\n\n\ntokenizer.src_lang = \"ru\"\n\nencoded_ru = tokenizer(sample_text, return_tensors=\"pt\").to(device)\n\ngenerated_tokens = model.generate(\n\n    **encoded_ru,\n\n    forced_bos_token_id=tokenizer.lang_code_to_id[\"eng_Latn\"],\n\n    max_length=512\n\n)\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(encoded_ru['input_ids'][0]))\n\nprint()\n\ntokenizer.batch_decode(generated_tokens, skip_special_tokens=True)\n\n# \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439\n\nsample_text = \"\"\"Creating Content and Practice Development\n\n\n\n* In September 2019, the first stages of development began.\n\n* From September 2019 to May 2020, individual classes were held.\n\n* In February-April 2020, the content was updated with the participation of two instructors.\n\n* In April 2020, the first live classes from developers received positive feedback from students, but they lasted 2.5-3 hours. Webinars also faced problems related to interruptions to students\u2019 questions and possible loss of important information.\n\n* In June 2020, permanent instructors were accepted.\n\n* In June-September 2020, they switched to the use of recorded video lessons, which significantly simplified the course management. Students were able to view the lessons in an accelerated mode, saving time and not losing quality of the material. However, after recording more than 80% of the content, problems with the hard drive occurred and all video lessons were lost, requiring their re-writing. * Creating text tasks with detailed comments took place from May to December 2021. This process involved a team of 13 people in charge of developing text tasks. Video lessons were translated into text format, then checked and submitted to a focus group for feedback. After that, the texts were passed on to copywriters to improve the description of the lessons. * From May 2021 and now, work on the creation of additional courses is ongoing.\n\n\n\n* In August 2020, a demo panel was created, including 98 examples of neural networks.\n\n* In September 2020, outsourcing resources were first attracted to participate in the project.\n\n* Outsourcing courses were created within the project, which helped effectively manage the work with external experts.\n\n\"\"\"\n\ntokenizer.src_lang = \"en\"\n\nencoded_en = tokenizer(sample_text, return_tensors=\"pt\").to(device)\n\ngenerated_tokens = model.generate(\n\n    **encoded_en,\n\n    forced_bos_token_id=tokenizer.lang_code_to_id[\"rus_Cyrl\"],\n\n    max_length=512\n\n)\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(encoded_en['input_ids'][0]))\n\nprint()\n\ntokenizer.batch_decode(generated_tokens, skip_special_tokens=True)\n\n### MarianNMT\nhttps://huggingface.co/docs/transformers/main/en/model_doc/marian#transformers.MarianMTModel\n\n\n\nhttps://huggingface.co/Helsinki-NLP\n**Marian**\u2014 \u044d\u0442\u043e \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043c\u0430\u0448\u0438\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 (Neural Machine Translation), \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u0430\u044f \u043d\u0430 \u0447\u0438\u0441\u0442\u043e\u043c C++ \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438. \u0412 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u043e\u043d \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 **Microsoft Translator** .\n\n\n\n\u041c\u043e\u0434\u0435\u043b\u0438 **MarianNMT** \u0441 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 **512**.\n**OPUS** \u2014 \u044d\u0442\u043e \u0440\u0430\u0441\u0442\u0443\u0449\u0430\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u043a\u0441\u0442\u043e\u0432 \u0438\u0437 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430. \u0412 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 OPUS \u043f\u044b\u0442\u0430\u044e\u0442\u0441\u044f \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u043e\u043d\u043b\u0430\u0439\u043d-\u0434\u0430\u043d\u043d\u044b\u0435, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043b\u0438\u043d\u0433\u0432\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0430\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0443 \u043e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0440\u043f\u0443\u0441. OPUS \u043e\u0441\u043d\u043e\u0432\u0430\u043d \u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u0445 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c, \u0438 \u043a\u043e\u0440\u043f\u0443\u0441 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043f\u0430\u043a\u0435\u0442\u0430 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c. \u0414\u043b\u044f \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u0412\u0441\u044f \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.\n\n\n\n\u041d\u0438\u043a\u0430\u043a\u0438\u0435 \u0440\u0443\u0447\u043d\u044b\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c.\n**Helsinki-NLP/opus-mt-en-ru** - \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439\n\n\n\n**Helsinki-NLP/opus-mt-ru-en** - \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439\n\n\n\n**Helsinki-NLP/opus-mt-mul-en** - \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 (119 \u044f\u0437\u044b\u043a\u043e\u0432) \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439\n\n\n\n**Helsinki-NLP/opus-mt-en-mul** - \u043f\u0435\u0440\u0435\u0432\u043e\u0434 c \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 (119 \u044f\u0437\u044b\u043a\u043e\u0432)\n#### \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\nimport locale\n\nlocale.getpreferredencoding = lambda: \"UTF-8\"\n!git lfs install\n\n!git clone https://huggingface.co/Helsinki-NLP/opus-mt-ru-en\n\n#### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430\u0439\u0437\u0435\u0440\u0430 \u043d\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u043c \u044f\u0437\u044b\u043a\u0435\nfrom transformers import AutoTokenizer, MarianMTModel\n\n\n\nsample_text = \"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\"\n\n\n\n# model_name = '/content/opus-mt-ru-en'\n\ntokenizer = AutoTokenizer.from_pretrained(\"Helsinki-NLP/opus-mt-ru-en\")\n\ntoken_ids = tokenizer.encode(sample_text)\n\n\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(token_ids))\n\nprint(token_ids)\n\nprint([tokenizer.decode(_ids) for _ids in token_ids])", "metadata": {"subid": 1, "total": 5, "source": "https://colab.research.google.com/drive/1IFh2I8LCsN0jnWxTq9JX-2p-Q5B_ca6K?usp=sharing"}}}, {"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"page_content": "\n#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\u0430 (pipeline) \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a\u0430 \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f\nfrom transformers import pipeline\n\n\n\npipe = pipeline(\"translation\", model=\"Helsinki-NLP/opus-mt-ru-en\",\n\n                device='cuda',\n\n                max_length=512) #Helsinki-NLP/opus-mt-ru-en\n\n\n\ntext = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\n\n\npipe(text)\n\n#### \u0420\u0443\u0447\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\nimport torch\n\nfrom transformers import AutoTokenizer, MarianMTModel\n\n\n\nsrc = \"ru\"  # source language\n\ntrg = \"en\"  # target language\n\n\n\ndevice = \"cuda:0\" if torch.cuda.is_available() else \"cpu\"\n\nmodel_name = '/content/opus-mt-ru-en' # f\"Helsinki-NLP/opus-mt-{src}-{trg}\"\n\nmodel = MarianMTModel.from_pretrained(model_name).to(device)\n\ntokenizer = AutoTokenizer.from_pretrained(model_name)\n\n\n\nsample_text = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\nbatch = tokenizer([sample_text], return_tensors=\"pt\").to(device)\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(batch['input_ids'][0]))\n\nprint()\n\ngenerated_ids = model.generate(**batch)\n\ntokenizer.batch_decode(generated_ids, skip_special_tokens=True)[0]\n\n### mBART-50\nhttps://huggingface.co/facebook/mbart-large-50-many-to-many-mmt\n\n\n\u0414\u0430\u043d\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u043e\u0439 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e \u0442\u043e\u0447\u043a\u0443 **mBART-large-50**.\n\n\n\n**mbart-large-50-many-to-many-mmt** \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u0434\u043b\u044f \u043c\u043d\u043e\u0433\u043e\u044f\u0437\u044b\u0447\u043d\u043e\u0433\u043e \u043c\u0430\u0448\u0438\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430.\n\n\n\n\u041c\u043e\u0434\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u044c \u043c\u0435\u0436\u0434\u0443 \u043b\u044e\u0431\u043e\u0439 \u043f\u0430\u0440\u043e\u0439 \u0438\u0437 50 \u044f\u0437\u044b\u043a\u043e\u0432.\n\n\n\n\u0420\u0430\u0437\u043c\u0435\u0440 \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 **1024.**\n#### \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\n!git lfs install\n\n!git clone https://huggingface.co/facebook/mbart-large-50-many-to-many-mmt\n\n#### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430\u0439\u0437\u0435\u0440\u0430 \u043d\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u043c \u044f\u0437\u044b\u043a\u0435\nfrom transformers import MBartForConditionalGeneration, MBart50TokenizerFast\n\nimport torch\n\n\n\ndevice = \"cuda:0\" if torch.cuda.is_available() else \"cpu\"\n\nmodel_name = \"/content/mbart-large-50-many-to-many-mmt\"\n\nsample_text = \"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\"\n\n\n\ntokenizer = MBart50TokenizerFast.from_pretrained(model_name) #facebook/mbart-large-50-many-to-many-mmt\n\ntokenizer.src_lang = \"ru_RU\"\n\ntoken_ids = tokenizer.encode(sample_text)\n\n\n\nprint(\"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u0432\u043e \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438: \", len(token_ids))\n\nprint(token_ids)\n\nprint([tokenizer.decode(_ids) for _ids in token_ids])", "metadata": {"subid": 2, "total": 5, "source": "https://colab.research.google.com/drive/1IFh2I8LCsN0jnWxTq9JX-2p-Q5B_ca6K?usp=sharing"}}}, {"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"page_content": "\n#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\u0430 (pipeline) \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a\u0430 \u0432\u044b\u0441\u043e\u043a\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f\nfrom transformers import pipeline\n\n\n\npipe = pipeline(\"translation\", model=\"/content/mbart-large-50-many-to-many-mmt\",\n\n                src_lang=\"ru_RU\",\n\n                tgt_lang=\"en_XX\",\n\n                max_length=1024,\n\n                device='cuda') # \"facebook/mbart-large-50-many-to-many-mmt\"\ntext = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\n\n\npipe(text)\n\n#### \u0420\u0443\u0447\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\nfrom transformers import MBartForConditionalGeneration, MBart50TokenizerFast\n\nimport torch\n\n\n\ndevice = \"cuda:0\" if torch.cuda.is_available() else \"cpu\"\n\n\n\nmodel = MBartForConditionalGeneration.from_pretrained(\"/content/mbart-large-50-many-to-many-mmt\").to(device) #facebook/mbart-large-50-many-to-many-mmt\n\ntokenizer = MBart50TokenizerFast.from_pretrained(\"/content/mbart-large-50-many-to-many-mmt\") #facebook/mbart-large-50-many-to-many-mmt\n# \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439\n\nsample_text = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\n\n\ntokenizer.src_lang = \"ru_RU\"\n\nencoded_ru = tokenizer(sample_text, return_tensors=\"pt\").to(device)\n\ngenerated_tokens = model.generate(\n\n    **encoded_ru,\n\n    forced_bos_token_id=tokenizer.lang_code_to_id[\"en_XX\"],\n\n    max_length=1024\n\n)\n\ntokenizer.batch_decode(generated_tokens, skip_special_tokens=True)\n\n# \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0433\u043e \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439\n\nsample_text = \"\"\"Creating Content and Practice Development\n\n\n\n* In September 2019, the first stages of development began.\n\n* From September 2019 to May 2020, individual classes were held.\n\n* In February-April 2020, the content was updated with the participation of two instructors.\n\n* In April 2020, the first live classes from developers received positive feedback from students, but they lasted 2.5-3 hours. Webinars also faced problems related to interruptions to students\u2019 questions and possible loss of important information.\n\n* In June 2020, permanent instructors were accepted.\n\n* In June-September 2020, they switched to the use of recorded video lessons, which significantly simplified the course management. Students were able to view the lessons in an accelerated mode, saving time and not losing quality of the material. However, after recording more than 80% of the content, problems with the hard drive occurred and all video lessons were lost, requiring their re-writing. * Creating text tasks with detailed comments took place from May to December 2021. This process involved a team of 13 people in charge of developing text tasks. Video lessons were translated into text format, then checked and submitted to a focus group for feedback. After that, the texts were passed on to copywriters to improve the description of the lessons. * From May 2021 and now, work on the creation of additional courses is ongoing.\n\n\n\n* In August 2020, a demo panel was created, including 98 examples of neural networks.\n\n* In September 2020, outsourcing resources were first attracted to participate in the project.\n\n* Outsourcing courses were created within the project, which helped effectively manage the work with external experts.\n\n\"\"\"\n\ntokenizer.src_lang = \"en_XX\"\n\nencoded_en = tokenizer(sample_text, return_tensors=\"pt\").to(device)\n\ngenerated_tokens = model.generate(\n\n    **encoded_en,\n\n    forced_bos_token_id=tokenizer.lang_code_to_id[\"ru_RU\"],\n\n    max_length=1024\n\n)\n\ntokenizer.batch_decode(generated_tokens, skip_special_tokens=True)\n\n## Llama-cpp-python\nhttps://huggingface.co/IlyaGusev\n### \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0438\n!wget 'https://huggingface.co/IlyaGusev/saiga2_7b_gguf/resolve/main/model-q2_K.gguf'", "metadata": {"subid": 3, "total": 5, "source": "https://colab.research.google.com/drive/1IFh2I8LCsN0jnWxTq9JX-2p-Q5B_ca6K?usp=sharing"}}}, {"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"page_content": "\n### Saiga 7B Q2\nhttps://huggingface.co/IlyaGusev/saiga2_7b_gguf\n\u041c\u043e\u0434\u0435\u043b\u044c \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e \u0447\u0430\u0442\u0430 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 LLaMA2 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 GGUF, \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u0430\u044f \u0441 llama.cpp\n\u041c\u043e\u0434\u0435\u043b\u044c \u0441 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 4096 \u0442\u043e\u043a\u0435\u043d\u043e\u0432. \u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 2000 \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u043d\u0430 \u0432\u0445\u043e\u0434 \u0438 2000 \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e (\u043f\u0435\u0440\u0435\u0432\u043e\u0434)\n#### \u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\nfrom llama_cpp import Llama\n\n\n\nSYSTEM_PROMPT = \"\u0422\u044b \u2014 \u0421\u0430\u0439\u0433\u0430, \u0440\u0443\u0441\u0441\u043a\u043e\u044f\u0437\u044b\u0447\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0441\u0441\u0438\u0441\u0442\u0435\u043d\u0442. \u0422\u044b \u0440\u0430\u0437\u0433\u043e\u0432\u0430\u0440\u0438\u0432\u0430\u0435\u0448\u044c \u0441 \u043b\u044e\u0434\u044c\u043c\u0438 \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0448\u044c \u0438\u043c.\"\n\nSYSTEM_TOKEN = 1788\n\nUSER_TOKEN = 1404\n\nBOT_TOKEN = 9225\n\nLINEBREAK_TOKEN = 13\n\n\n\nROLE_TOKENS = {\n\n    \"user\": USER_TOKEN,\n\n    \"bot\": BOT_TOKEN,\n\n    \"system\": SYSTEM_TOKEN\n\n}\n\n\n\n\n\ndef get_message_tokens(model, role, content):\n\n    message_tokens = model.tokenize(content.encode(\"utf-8\"))\n\n    message_tokens.insert(1, ROLE_TOKENS[role])\n\n    message_tokens.insert(2, LINEBREAK_TOKEN)\n\n    message_tokens.append(model.token_eos())\n\n    return message_tokens\n\n\n\n\n\ndef get_system_tokens(model):\n\n    system_message = {\n\n        \"role\": \"system\",\n\n        \"content\": SYSTEM_PROMPT\n\n    }\n\n    return get_message_tokens(model, **system_message)\n\n\n\n\n\ndef interact(\n\n    model_path,\n\n    prompt,\n\n    n_ctx=4096,  # Context window\n\n    max_tokens=2000,  # Max tokens to generate\n\n    n_gpu_layers = 2000,  # Change this value based on your model and your GPU VRAM pool.\n\n    n_batch = 512,\n\n    top_k=30,\n\n    top_p=0.9,\n\n    temperature=0.2,\n\n    repeat_penalty=1.1\n\n):\n\n    model = Llama(\n\n        model_path=model_path,\n\n        n_ctx=n_ctx,\n\n        n_parts=1,\n\n        max_tokens=max_tokens,\n\n        n_gpu_layers = n_gpu_layers,\n\n        n_batch = n_batch,\n\n    )\n\n\n\n    system_tokens = get_system_tokens(model)\n\n    tokens = system_tokens\n\n    model.eval(tokens)\n\n\n\n\n\n    user_message = prompt\n\n    message_tokens = get_message_tokens(model=model, role=\"user\", content=user_message)\n\n    role_tokens = [model.token_bos(), BOT_TOKEN, LINEBREAK_TOKEN]\n\n    tokens += message_tokens + role_tokens\n\n    print('\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432 \u043d\u0430 \u0432\u0445\u043e\u0434: ', len(tokens))\n\n    generator = model.generate(\n\n        tokens,\n\n        top_k=top_k,\n\n        top_p=top_p,\n\n        temp=temperature,\n\n        repeat_penalty=repeat_penalty\n\n    )\n\n    for token in generator:\n\n        token_str = model.detokenize([token]).decode(\"utf-8\", errors=\"ignore\")\n\n        tokens.append(token)\n\n        if token == model.token_eos():\n\n            break\n\n        print(token_str, end=\"\", flush=True)\n\n    print('\\n\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0441\u0435\u0433\u043e \u0442\u043e\u043a\u0435\u043d\u043e\u0432: ', len(tokens))\n\n####  \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439\ntext = \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438\n\n\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2019 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0435 \u044d\u0442\u0430\u043f\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.\n\n* \u0421 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433\u043e\u0434\u0430 \u043f\u043e \u043c\u0430\u0439 2020 \u0433\u043e\u0434\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f.\n\n* \u0412 \u0444\u0435\u0432\u0440\u0430\u043b\u0435-\u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u0440\u0438 \u0443\u0447\u0430\u0441\u0442\u0438\u0438 \u0434\u0432\u0443\u0445 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\n\n* \u0412 \u0430\u043f\u0440\u0435\u043b\u0435 2020 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0438\u0441\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0436\u0438\u0432\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043e\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0438\u0432\u0448\u0438\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u0442\u0437\u044b\u0432\u044b \u043e\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0438\u0445 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0430 2,5-3 \u0447\u0430\u0441\u0430. \u0412\u0435\u0431\u0438\u043d\u0430\u0440\u044b \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044b \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0438.\n\n* \u0412 \u0438\u044e\u043d\u0435-\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u043f\u0435\u0440\u0435\u0448\u043b\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u043e\u0432, \u0447\u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b\u043e \u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430. \u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u043a\u0438 \u0432 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u044d\u043a\u043e\u043d\u043e\u043c\u044f \u0441\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0442\u0435\u0440\u044f\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u043e\u043b\u0435\u0435 80% \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0436\u0435\u0441\u0442\u043a\u0438\u043c \u0434\u0438\u0441\u043a\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0447\u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u043e \u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n* \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043b\u043e \u0441 \u043c\u0430\u044f \u043f\u043e \u0434\u0435\u043a\u0430\u0431\u0440\u044c 2021 \u0433\u043e\u0434\u0430. \u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0438\u0437 13 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439. \u0412\u0438\u0434\u0435\u043e\u0443\u0440\u043e\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0438\u0441\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c \u0444\u043e\u043a\u0443\u0441-\u0433\u0440\u0443\u043f\u043f\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043a\u043e\u043f\u0438\u0440\u0430\u0439\u0442\u0435\u0440\u0430\u043c \u0434\u043b\u044f \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u043e\u0432.\n\n* \u0421 \u043c\u0430\u044f 2021 \u0433\u043e\u0434\u0430 \u0438 \u043f\u043e \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0434 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432.\n\n\n\n* \u0412 \u0430\u0432\u0433\u0443\u0441\u0442\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0434\u0435\u043c\u043e-\u043f\u0430\u043d\u0435\u043b\u044c\u043a\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u0435\u0431\u044f 98 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043d\u0435\u0439\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u0435\u0442\u0435\u0439.\n\n* \u0412 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435 2020 \u0433\u043e\u0434\u0430 \u0431\u044b\u043b\u0438 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u044b \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435.\n\n* \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043a\u0443\u0440\u0441\u044b \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0430\u0443\u0442\u0441\u043e\u0440\u0441\u0438\u043d\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0439 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430\u043c\u0438.\n\n\"\"\"\n\nprompt = f\"\"\"\u041f\u0435\u0440\u0435\u0432\u0435\u0434\u0438 \u0442\u0435\u043a\u0441\u0442 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a.\n\n\n\n\u0422\u0435\u043a\u0441\u0442: {text}\n\n\n\n\u0422\u0435\u043a\u0441\u0442 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c:\n\n\"\"\"\n\n\n\ninteract(model_path=\"/content/model-q2_K.gguf\", prompt=prompt)\n\n####  \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439\ntext = \"\"\"In September 2019 the first stages of development were launched.\n\n\n\nFrom September 2019 to May 2020, individual lessons were held.\n\n\n\nIn February-April 2020, content was updated with the participation of two teachers.\n\n\n\nIn April 2020, the first live lessons from developers were launched and received positive feedback from students, but their duration was about 2.5 to 3 hours. Webinars also faced problems related to interruptions on questions by students and possible loss of important information.\n\n\n\nIn June 2020, permanent teachers were hired.\n\n\n\nFrom June to December 2020, recorded video lessons were used, which significantly simplified the conduct of the course. Students had the opportunity to view recordings at an accelerated pace and save time, while not losing the quality of the material. However, after recording more than 80% of the content, problems with hard drives on computers arose, resulting in the loss of all video lessons, which required their re-recording.\n\n\n\nThe creation of textual tasks with detailed comments took place from May to December 2021. In this process, a team of 13 people was responsible for developing textual assignments. Video lessons were converted into a text format, then verified and provided feedback to the focus group for obtaining feedback. After that, the texts were transferred to copywriters for improving the description of the courses.\n\n\n\nFrom August 2020, a demo panel with 98 examples of neural networks was created.\n\n\n\nIn September 2020, external resources were first involved in the project.\n\n\n\nWithin the framework of the project, courses on organizing outsourcing were created, which helped to effectively manage work with external specialists.\n\n\"\"\"\n\nprompt = f\"\"\"\u041f\u0435\u0440\u0435\u0432\u0435\u0434\u0438 \u0442\u0435\u043a\u0441\u0442 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a.\n\n\n\n\u0422\u0435\u043a\u0441\u0442: {text}\n\n\n\n\u0422\u0435\u043a\u0441\u0442 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c:\n\n\"\"\"\n\n\n\ninteract(model_path=\"/content/model-q2_K.gguf\", prompt=prompt)", "metadata": {"subid": 4, "total": 5, "source": "https://colab.research.google.com/drive/1IFh2I8LCsN0jnWxTq9JX-2p-Q5B_ca6K?usp=sharing"}}}]