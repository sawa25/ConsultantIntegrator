[{"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"page_content": "\n\n\n\n\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b \u0413\u0443\u0433\u043b\u0434\u043e\u043a:\n\n\n\ndoc_f-link = 'https://docs.google.com/document/d/1rihIt6rnBHfrv42C1ALtpoHoS2jIVseCg49aWqsOyk4'\n\n\n\n\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b (\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439):\n\n\n\ntxt_f_link = 'https://drive.google.com/file/d/1-gRMM-kX0WbCwFWzSr-6mvj-HZx9tGFf/view?usp=sharing'\n\n\n\n\n\n**1. Google Docs:**\n\n\n\n\u041a\u043e\u0433\u0434\u0430 \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 Google (Google Docs), \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c URL, \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0445 \u0434\u043b\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u042d\u0442\u0438 URL \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b Google \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a PDF, DOCX, TXT \u0438 \u0442.\u0434.\n\n\n\ndownload_url = f'https://docs.google.com/document/d/{doc_id}/export?format=txt'\n\n\n\n\n\n\u042d\u0442\u043e\u0442 URL \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 Google Docs \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442. \u0417\u0434\u0435\u0441\u044c doc_id \u2014 \u044d\u0442\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 Google Docs.\n\n\n\n\n\n\n\n**2. Google Drive:**\n\n\n\n\u041a\u043e\u0433\u0434\u0430 \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u043d\u0430 Google Drive, \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043e\u0431\u0449\u0435\u0433\u043e URL \u0434\u043b\u044f \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u043e\u0432. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u043b\u044e\u0431\u044b\u0435 \u0444\u0430\u0439\u043b\u044b, \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0435\u0441\u044f \u043d\u0430 Google Drive, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0438\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0430.\n\n\n\ndownload_url = f'https://drive.google.com/uc?export=download&id={file_id}&format=txt'\n\n\n\n\u042d\u0442\u043e\u0442 URL \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 \u0441 Google Drive. \u0417\u0434\u0435\u0441\u044c file_id \u2014 \u044d\u0442\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0430 Google Drive. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 format=txt \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e \u043a \u0442\u0438\u043f\u0443 \u0444\u0430\u0439\u043b\u0430.\nimport re\n\nimport requests\ndoc_link = 'https://docs.google.com/document/d/1rihIt6rnBHfrv42C1ALtpoHoS2jIVseCg49aWqsOyk4'\n\nfile_link = 'https://drive.google.com/file/d/1-gRMM-kX0WbCwFWzSr-6mvj-HZx9tGFf/view?usp=sharing'\n#@title  \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0438\u0437 \u0433\u0443\u0433\u043b \u0434\u0440\u0430\u0439\u0432\n\ndef load_document_text(url: str) -> str:\n\n    # Extract the document ID from the URL\n\n    match_ = re.search('/document/d/([a-zA-Z0-9-_]+)', url)\n\n    if match_ is None:\n\n        raise ValueError('Invalid Google Docs URL')\n\n    doc_id = match_.group(1)\n\n\n\n    # Download the document as plain text\n\n    download_url = f'https://docs.google.com/document/d/{doc_id}/export?format=txt'\n\n\n\n    response = requests.get(download_url)\n\n    response.raise_for_status()\n\n    text = response.text\n\n\n\n    return text\n\n\n\nfrom_doc = load_document_text(doc_link)\n\nprint(from_doc[:500])\ndef download_document_pdf(url: str, output_name: str) -> str:\n\n    # Extract the document ID from the URL\n\n    match_ = re.search('/document/d/([a-zA-Z0-9-_]+)', url)\n\n    if match_ is None:\n\n        raise ValueError('Invalid Google Docs URL')\n\n    doc_id = match_.group(1)\n\n\n\n    # Download the document as plain text\n\n    download_url = f'https://docs.google.com/document/d/{doc_id}/export?format=pdf'\n\n\n\n    response = requests.get(download_url)\n\n    response.raise_for_status()\n\n    with open(output_name, 'wb') as f:\n\n        f.write(response.content)\n\n    return\n\n\n\ndownload_document_pdf(doc_link, './pdf_f.pdf')\n\n#@title \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0438\u0437 \u0433\u0443\u0433\u043b \u0434\u0440\u0430\u0439\u0432\n\ndef load_file_text(url: str) -> str:\n\n    # Extract the file ID from the URL\n\n    match_ = re.search(r'/file/d/([a-zA-Z0-9-_]+)', url)\n\n    if match_ is None:\n\n        raise ValueError('Invalid Google Drive URL')\n\n    file_id = match_.group(1)\n\n\n\n    # Download the file as plain text\n\n    download_url = f'https://drive.google.com/uc?export=download&id={file_id}&format=txt'\n\n    response = requests.get(download_url)\n\n    response.raise_for_status()\n\n    text = response.text\n\n\n\n    return text\n\n\n\nfrom_file = load_file_text(file_link)\n\nprint(from_file[:500])\n\n# \u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0434 \u0447\u0442\u0435\u043d\u0438\u0435\u043c\n!pip install wget\nimport wget\n#@title \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0438\u0437 \u0433\u0443\u0433\u043b \u0434\u0440\u0430\u0439\u0432\n\ndef download_file_text(url: str, output_name: str) -> str:\n\n    # Extract the file ID from the URL\n\n    match_ = re.search(r'/file/d/([a-zA-Z0-9-_]+)', url)\n\n    if match_ is None:\n\n        raise ValueError('Invalid Google Drive URL')\n\n    file_id = match_.group(1)\n\n\n\n    # Download the file as plain text\n\n    download_url = f'https://drive.google.com/uc?export=download&id={file_id}&format=txt'\n\n    wget.download(download_url, output_name)\n\n    with open(output_name, 'r') as f:\n\n        text = f.read()\n\n    return text\n\n\n\n\n\nwith_wget = download_file_text(file_link, './downloaded_file.txt')\n\nprint(with_wget[:500])\nimport gdown\n\ngdown.download(id = fileID, './downloaded_file.txt', quiet=False)\ndict_my = {'key':'\u044d\u0442\u043e \u043a\u043b\u044e\u0447', 'value':'\u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435'}\n\nprint(dict_my)\nimport json\n# \u0417\u0430\u043f\u0438\u0441\u044c \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u0430\u0439\u043b\n\nwith open('dict_my.json', 'w', encoding='utf-8') as file:\n\n    json.dump(dict_my, file, ensure_ascii=False, indent=4)\n# \u0427\u0442\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430\n\nwith open('dict_my.json', 'r', encoding='utf-8') as file:\n\n    data = json.load(file)\n\n\n\nprint(data, type(data))\nresp = '{\"key\": \"\u044d\u0442\u043e \u043a\u043b\u044e\u0447\", \"value\": \"\u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\"}'\n\nprint(resp, type(resp))\ndict_1 = json.loads(resp)\n\nprint(dict_1, type(dict_1))\n", "metadata": {"subid": 0, "total": 1, "source": "https://colab.research.google.com/drive/1Db-gJU2aJUhwd2uqha8ssvVqNuoaHNt4?usp=drive_link"}}}]